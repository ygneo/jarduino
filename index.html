<!DOCTYPE html>

<meta charset="UTF-8"> 

<script src="./jardui/vendor/d3.v2.js"></script>
<script src="./jardui/vendor/rickshaw.min.js"></script>

<link rel="stylesheet" type="text/css" href="./jardui/css/jarduino.css">

<html>
  <head>
    <title>Jarduino</title>
  </head>

  <body>

    <header>
      <h1>Jarduino</h1>
      <div id="jarduino_controls">
        <div id="status">
        </div>
        <div id="buttons">
          <button type="button">REPROGRAMAR</button>
        </div>
      </div>
    </header>

    <main>
      <section>
        <form>
          <fieldset>
            <label for="name">Nombre</label>
            <input id="name" type="text"></input>
          </fieldset>
          <fieldset>
            <label for="description">Descripción</label>
            <input id="description" type="text"></input>
          </fieldset>
          <fieldset class="time_interval">
            <div id="col1">
              <label for="watering_frequence">Frecuencia de riego</label>
              <input id="watering_frequence" type="number"></input>
            </div>
            <div class="col2">
              <label for="watering_frequence_interval">Intervalo</label>
              <select id="watering_frequence_interval">
                <option value="s">Segundos</option>
                <option value="m">Minutos</option>
                <option value="h">Horas</option>
                <option value="d">Días</option>
              </select>
            </div>
          </fieldset>
          <fieldset class="time_interval">
            <div id="col1">
              <label for="watering_time">Tiempo de riego</label>
              <input id="watering_time" type="number"></input>
            </div>
            <div id="col2">
              <label for="watering_time_interval">Intervalo</label>
              <select id="watering_time_interval">
                <option value="s">Segundos</option>
                <option value="m">Minutos</option>
                <option value="h">Horas</option>
                <option value="d">Días</option>
              </select>
            </div>
          </fieldset>
          <fieldset>
            <label for="min_soil_moisture">Humedad mínima</label>
            <select id="min_soil_moisture">
                <option value="very_low">Muy baja</option>
                <option value="low">Baja</option>
                <option value="medium">Media</option>
                <option value="high">Alta</option>
                <option value="very_high">Muy alta</option>
            </select>
          </fieldset>
          <div class="buttons">
            <button>CANCELAR</button>
            <button type="submit">GUARDAR</button>
          </div>
        </form>
      </section>

       <section>
        <div class="card" id="create_irrigation_zone_card">
        </div>
        <div class="card">
          <span class="help">Configura una nueva zona de riego en el sistema</span>
        </div>
      </section>
    </main>

    <script src="./jardui/lib/index.js"></script>
    <script>
var gulp = require('gulp');
var run = require('gulp-run');

gulp.task('rebuild', function () {
    var r = run('npm run build').exec(gulp.dest('output'));

    r.on('error', function(e) {
        console.log(e);
    })
});

gulp.task('reload', function () {
    console.log("reload");
    if (location) location.reload();
});
gulp.watch([
   './jardui/css/*',
    'index.html',
], ['reload']);

gulp.watch([
   './jardui/src/*',
], ['rebuild', 'reload']);

</script>
</body>
</html>
